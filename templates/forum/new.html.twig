{% extends 'base.html.twig' %}

{% block title %}Nouveau sujet
{% endblock %}

{% block body %}
	<div class="max-w-2xl mx-auto py-10 px-4">
		<div class="flex justify-between items-center mb-8">
			<h1 class="text-3xl font-bold font-['Special_Elite'] text-[#032b35]">
				Créer un nouveau sujet
			</h1>
			<a href="{{ path('app_forum') }}" class="text-sm text-[#085669] underline font-['Roboto_Slab'] hover:opacity-70 transition">
				← Retour au forum
			</a>
		</div>

		{{ form_start(form) }}

		{# Affiche les erreurs générales du formulaire #}
		{% if form.vars.errors|length > 0 %}
			<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 font-['Roboto_Slab']">
				{{ form_errors(form) }}
			</div>
		{% endif %}

		<div class="mb-6">
			{{ form_label(form.title, null, {'label_attr': {'class': 'block text-sm font-medium text-[#032b35] font-["Roboto_Slab"] mb-1'}}) }}
			{{ form_widget(form.title, {
            attr: {
                class: 'w-full p-3 rounded-xl border border-gray-300 font-["Roboto_Slab"] text-sm'
            }
        }) }}
			{{ form_errors(form.title) }}
		</div>

		<div class="mb-6">
			{{ form_label(form.content, null, {'label_attr': {'class': 'block text-sm font-medium text-[#032b35] font-["Roboto_Slab"] mb-1'}}) }}
			{{ form_widget(form.content, {
            attr: {
                class: 'w-full p-3 rounded-xl border border-gray-300 font-["Roboto_Slab"] text-sm',
                rows: 6
            }
        }) }}
			{{ form_errors(form.content) }}
		</div>

		<div class="mt-6">
			<button type="submit" class="bg-[#085669] text-[#f5f5e9] px-5 py-2 rounded-xl hover:opacity-90 font-['Roboto_Slab'] transition">
				Créer le sujet
			</button>
		</div>

		{{ form_rest(form) }}
		{{ form_end(form, { render_rest: false }) }}
	</div>
{% endblock %}
