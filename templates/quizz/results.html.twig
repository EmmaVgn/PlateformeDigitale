{% extends 'base.html.twig' %}

{% block title %}Résultats -
	{{ quiz.title }}
{% endblock %}

{% block body %}
	<div class="container mx-auto p-6">
		<div class="bg-gray-100 rounded-xl shadow-lg p-8 space-y-6">
			<h1 class="text-4xl font-bold text-gray-800 text-center">{{ quiz.title }}
				- Résultats</h1>

			<p class="text-center text-2xl">
				Vous avez obtenu :
				<strong>{{ score }}/{{ totalPoints }}</strong>
			</p>

			<div class="space-y-4">
				{% for question in quiz.questions %}
					<div class="bg-white p-4 rounded-lg shadow">
						<h3 class="text-xl font-semibold">{{ loop.index }}.
							{{ question.content }}</h3>

						<div class="mt-2">
							{% for answer in question.answers %}
								<p class="{% if answer.isCorrect %}text-green-600{% else %}text-gray-600{% endif %}">
									{% if answer.isCorrect %}✔️{% else %}✖️
									{% endif %}
									{{ answer.content }}
								</p>
							{% endfor %}
						</div>

						{% if question.explanation %}
							<div class="mt-4 bg-blue-50 border-l-4 border-blue-400 p-3 rounded">
								<strong>Explication :</strong>
								{{ question.explanation }}
							</div>
						{% endif %}
					</div>
				{% endfor %}
			</div>
		</div>
	</div>
{% endblock %}
